function footerStart(e){$("html,body").animate({scrollTop:$(e).offset().top},"fast")}function thanks(){$("#thanks").fadeIn(500),$("#thanks").delay(1700).fadeOut(2e3)}$(function(){function e(){if(DH&&DH.calendar){var e=$(".ui-datepicker"),n=e.find("td"),r=$(n[7]).attr("data-year"),i=$(n[7]).attr("data-month"),s=DH.calendar.reserved,d=DH.calendar.move_reserved;n.each(function(e){var t=$(n[e]);if(!t.hasClass("ui-state-other-month")){var s=t.find("a").text(),d=new Date(r,i,s);d<=DH.calendar.today&&t.addClass("ui-datepicker-unselectable"),a(d,DH.calendar.start)&&t.addClass("start_dt"),a(d,DH.calendar.end)&&t.addClass("end_dt"),DH.calendar.start<d&&d<DH.calendar.end&&t.addClass("term")}});for(var o=new Date(r,i),c=0,l=s.length;l>c;c++){var v=s[c].from,f=s[c].to;(t(v,o)||t(f,o))&&n.each(function(e){var t=$(n[e]),a=t.find("a").text(),s=new Date(r,i,a);t.hasClass("ui-state-other-month")||s>=v&&f>=s&&t.addClass("ui-datepicker-unselectable")})}for(var o=new Date(r,i),c=0,l=d.length;l>c;c++){var v=d[c].from,f=d[c].to;(t(v,o)||t(f,o))&&n.each(function(e){var t=$(n[e]),a=t.find("a").text(),s=new Date(r,i,a);t.hasClass("ui-state-other-month")||s>=v&&f>=s&&t.addClass("ui-datepicker-unselectable-move")})}}}function t(e,t){return e&&t?e.getYear()===t.getYear()&&e.getMonth()===t.getMonth():!1}function a(e,a){return e&&a?t(e,a)&&e.getDate()===a.getDate():!1}DH=DH||{};var n=$("#search");$(".search-btn").click(function(){n.removeClass("hide")}),$(".close-search-box-btn").click(function(){n.addClass("hide")});var r=$("#tabs");r.length&&r.tabs({activate:function(){}});var i=(new Swiper(".swiper-container",{pagination:".swiper-pagination",slidesPerView:2,paginationClickable:!0,spaceBetween:10}),$("#carousel"));i.length&&($.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:1,start:0,onClick:function(){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}},i.elastislide());var s=$(".datepicker");s.length&&(DH.calendar=DH.calendar||{start:"",end:"",reserved:[],move_reserved:[]},$.datepicker.regional.jp,s.datepicker({onChangeMonthYear:function(){setTimeout(e,0)},onSelect:function(t){if($(this).hasClass("readOnly"))return!1;var a=$(this),n=a.attr("name");"start_dt"===n?DH.calendar.start=new Date(t):"end_dt"===n?DH.calendar.end=new Date(t):""==DH.calendar.start?(DH.calendar.start=DH.calendar.end=new Date(t),$("#start_dt").val($.datepicker.formatDate("yy/mm/dd",new Date(t))),$("#end_dt").val($.datepicker.formatDate("yy/mm/dd",new Date(t)))):DH.calendar.start==DH.calendar.end?(DH.calendar.end=new Date(t),$("#end_dt").val($.datepicker.formatDate("yy/mm/dd",new Date(t)))):(DH.calendar.start=DH.calendar.end=new Date(t),$("#start_dt").val($.datepicker.formatDate("yy/mm/dd",new Date(t))),$("#end_dt").val($.datepicker.formatDate("yy/mm/dd",new Date(t)))),setTimeout(e,0)},onClose:function(){}}),setTimeout(e,0),s.click(e));var d=$(".stars");d.length&&($.fn.raty.defaults.path="/img",d.raty({score:function(){return $(this).attr("data-score")},readOnly:d.hasClass("readOnly"),space:!1,click:function(e){var t=$(this).find("input");t.length&&t.val(e)}}));var o=0;$("input[type=file]").change(function(){var e=$(this),t=(e.val(),e.attr("name")),a=new FileReader;a.onload=function(e){$("#img_flame").css("rotate",o),$("#"+t).attr("src",e.target.result)},EXIF.getData(this.files[0],function(){var e=this.exifdata.Orientation;switch(o=0,e){case 8:o=-90;break;case 3:o=180;break;case 6:o=90}a.readAsDataURL(this)})});var c=!1;$("#reservation-confirm-btn").click(function(e){e.preventDefault();var t=$(".error"),a=$("#reservation input[name=start_dt]").val(),n=$("#reservation input[name=end_dt]").val(),r=$("#reservation input[name=dog_num]").val(),i=$("#reservation textarea[name=message]").val();return a?n?new Date(a)>new Date(n)?void t.text("期間が不正です"):r?i?($("#reservation-confirm .start_dt .value").text(a),$("#reservation-confirm input[name=start_dt]").val(a),$("#reservation-confirm .end_dt .value").text(n),$("#reservation-confirm input[name=end_dt]").val(n),$("#reservation-confirm .dog_num .value").text(r),$("#reservation-confirm input[name=dog_num]").val(r),$("#reservation-confirm .message .value").text(i),$("#reservation-confirm input[name=message]").val(i),t.text(""),$("#reservation-confirm").removeClass("hide"),void $("#reservation").addClass("hide")):void t.text("メッセージを入力してください"):void t.text("頭数を入力してください"):void t.text("迎え日を入力してください"):void t.text("預け日を入力してください")}),$("#reservation-confirm .btn-success").click(function(e){var t=$(".error");if(c);else{e.preventDefault();var a=$("#reservation-form input[type=checkbox]").prop("checked");a?(c=!0,$("#reservation-form").submit()):t.text("利用規約に同意してください")}}),$("#reservation-confirm .btn-danger").click(function(e){e.preventDefault(),$("#reservation-confirm").addClass("hide"),$("#reservation").removeClass("hide")})});